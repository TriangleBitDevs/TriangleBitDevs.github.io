#!/usr/bin/env bash
set -euo pipefail

# Check that old Jekyll URLs redirect correctly to new Zola URLs
echo "Checking Jekyll URL redirects..."

links=(
  feed.xml
  2021-12-13-socratic-seminar-1
  2022-01-26-socratic_seminar-2
  2022-02-16-socratic_seminar-3
  2022-06-29-reading-group-1
  2023-09-09-tabconf-lightning-session
  2024-10-26-tabconf-6-lightning-session
  2025-12-10-socratic-seminar-47
)

for link in ${links[@]}; do
  echo "Checking ${link}â€¦"
  curl --fail -sS localhost:1111/$link > /dev/null
done

echo ""
echo "All Jekyll URLs redirect successfully!"
